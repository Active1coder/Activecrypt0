<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Active Investment | Regulated Crypto Asset Management</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <style>
        /* ===== PROFESSIONAL TRADING STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: #0B0E11;
            color: #EAECEF;
            min-height: 100vh;
        }

        /* ===== NAVBAR ===== */
        .navbar {
            background: #1E2026;
            border-bottom: 1px solid #2B2F36;
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #F0B90B;
            font-size: 24px;
            font-weight: 700;
            text-decoration: none;
        }

        .logo i {
            font-size: 28px;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-links a {
            color: #EAECEF;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
        }

        .nav-links a:hover {
            color: #F0B90B;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            border: none;
            transition: 0.3s;
        }

        .btn-primary {
            background: #F0B90B;
            color: #0B0E11;
        }

        .btn-primary:hover {
            background: #F0B90B;
            opacity: 0.9;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid #F0B90B;
            color: #F0B90B;
        }

        .btn-outline:hover {
            background: #F0B90B;
            color: #0B0E11;
        }

        /* ===== PAGES ===== */
        .page {
            display: none;
            min-height: calc(100vh - 70px);
        }

        .page.active {
            display: block;
        }

        /* ===== HERO SECTION ===== */
        .hero {
            padding: 80px 0;
            text-align: center;
            background: linear-gradient(180deg, #0B0E11 0%, #1E2026 100%);
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: #F0B90B;
        }

        .hero p {
            font-size: 18px;
            color: #848E9C;
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }

        .hero-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* ===== SECTION STYLES ===== */
        .section {
            padding: 60px 0;
            border-bottom: 1px solid #2B2F36;
        }

        .section-title {
            font-size: 32px;
            color: #F0B90B;
            margin-bottom: 30px;
            text-align: center;
        }

        .section-subtitle {
            font-size: 18px;
            color: #848E9C;
            margin-bottom: 40px;
            text-align: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .content-text {
            color: #EAECEF;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
        }

        .content-text p {
            margin-bottom: 20px;
        }

        .content-text ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }

        .content-text li {
            margin-bottom: 10px;
            color: #EAECEF;
        }

        /* ===== INVESTMENT PLANS ===== */
        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .plan-card {
            background: #1E2026;
            border: 1px solid #2B2F36;
            border-radius: 8px;
            padding: 30px;
            transition: transform 0.3s;
            position: relative;
            overflow: hidden;
        }

        .plan-card:hover {
            transform: translateY(-5px);
            border-color: #F0B90B;
        }

        .plan-card.institutional {
            background: linear-gradient(45deg, #1E2026, #2B2F36);
            border-color: #F0B90B;
        }

        .plan-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #F0B90B;
            color: #0B0E11;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .plan-name {
            color: #F0B90B;
            font-size: 20px;
            margin-bottom: 15px;
        }

        .plan-min {
            color: #848E9C;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .plan-amount {
            font-size: 28px;
            font-weight: 700;
            color: #EAECEF;
            margin-bottom: 15px;
        }

        .plan-duration {
            color: #848E9C;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .plan-return {
            background: #2B2F36;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .plan-return-label {
            color: #848E9C;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .plan-return-value {
            color: #0ECB81;
            font-size: 24px;
            font-weight: 700;
        }

        .plan-return-range {
            color: #EAECEF;
            font-size: 16px;
        }

        /* ===== REFERRAL PAGE ===== */
        .referral-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .referral-header {
            background: #1E2026;
            padding: 40px;
            border-radius: 8px;
            border: 1px solid #2B2F36;
            margin-bottom: 30px;
            text-align: center;
        }

        .referral-header h2 {
            color: #F0B90B;
            font-size: 32px;
            margin-bottom: 20px;
        }

        .referral-code-box {
            background: #0B0E11;
            padding: 20px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 400px;
            margin: 20px auto;
            border: 1px solid #2B2F36;
        }

        .referral-code {
            font-size: 24px;
            font-weight: 700;
            color: #F0B90B;
            letter-spacing: 2px;
        }

        .commission-structure {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .commission-card {
            background: #1E2026;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #2B2F36;
            text-align: center;
        }

        .commission-level {
            color: #F0B90B;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .commission-percent {
            font-size: 36px;
            font-weight: 700;
            color: #0ECB81;
            margin-bottom: 10px;
        }

        .referral-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-box {
            background: #1E2026;
            padding: 20px;
            border-radius: 4px;
            text-align: center;
        }

        .stat-label {
            color: #848E9C;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stat-value {
            color: #F0B90B;
            font-size: 28px;
            font-weight: 700;
        }

        /* ===== AUTH PAGES ===== */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 70px);
            padding: 40px 20px;
        }

        .auth-card {
            background: #1E2026;
            border-radius: 8px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            border: 1px solid #2B2F36;
        }

        .auth-card h2 {
            color: #F0B90B;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .auth-description {
            color: #848E9C;
            font-size: 14px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #848E9C;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            background: #0B0E11;
            border: 1px solid #2B2F36;
            border-radius: 4px;
            color: #EAECEF;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: #F0B90B;
        }

        /* ===== DASHBOARD ===== */
        .dashboard-container {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        .sidebar {
            width: 250px;
            background: #1E2026;
            padding: 30px 20px;
            border-right: 1px solid #2B2F36;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 10px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            color: #848E9C;
            text-decoration: none;
            border-radius: 4px;
            transition: 0.3s;
        }

        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background: #2B2F36;
            color: #F0B90B;
        }

        .main-content {
            flex: 1;
            padding: 30px;
            background: #0B0E11;
            overflow-x: auto;
        }

        /* ===== STATS CARDS ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #1E2026;
            padding: 20px;
            border-radius: 4px;
            border: 1px solid #2B2F36;
        }

        .stat-card h3 {
            color: #848E9C;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stat-card .value {
            color: #F0B90B;
            font-size: 24px;
            font-weight: 700;
        }

        /* ===== PORTFOLIO TABLE ===== */
        .portfolio-section {
            background: #1E2026;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #2B2F36;
            margin-bottom: 30px;
        }

        .portfolio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .portfolio-header h3 {
            color: #F0B90B;
            font-size: 18px;
        }

        .portfolio-value {
            font-size: 24px;
            color: #0ECB81;
        }

        .asset-list {
            display: grid;
            gap: 15px;
        }

        .asset-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #0B0E11;
            border-radius: 4px;
        }

        .asset-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .asset-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .btc-icon { background: #F7931A; color: white; }
        .eth-icon { background: #627EEA; color: white; }
        .usdt-icon { background: #26A17B; color: white; }

        .asset-details h4 {
            color: #EAECEF;
            margin-bottom: 5px;
        }

        .asset-details small {
            color: #848E9C;
        }

        .asset-values {
            text-align: right;
        }

        .asset-amount {
            color: #EAECEF;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .asset-change {
            color: #0ECB81;
        }

        /* ===== ADMIN PANEL ===== */
        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .admin-header {
            background: #1E2026;
            padding: 30px;
            border-radius: 4px;
            border: 1px solid #2B2F36;
            margin-bottom: 30px;
        }

        .admin-header h2 {
            color: #F0B90B;
            margin-bottom: 10px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: #1E2026;
            padding: 20px;
            border-radius: 4px;
            border: 1px solid #2B2F36;
        }

        .stat-box h3 {
            color: #848E9C;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stat-box .number {
            color: #F0B90B;
            font-size: 28px;
            font-weight: 700;
        }

        .admin-card {
            background: #1E2026;
            padding: 25px;
            border-radius: 4px;
            border: 1px solid #2B2F36;
            margin-bottom: 30px;
        }

        .admin-card h3 {
            color: #F0B90B;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .user-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #2B2F36;
            flex-wrap: wrap;
            gap: 10px;
        }

        .user-list-item:last-child {
            border-bottom: none;
        }

        .user-info {
            flex: 1;
            min-width: 250px;
        }

        .user-info strong {
            color: #F0B90B;
            font-size: 16px;
            display: block;
            margin-bottom: 5px;
        }

        .user-info small {
            color: #848E9C;
            font-size: 12px;
            display: block;
        }

        .user-actions {
            display: flex;
            gap: 8px;
        }

        .user-actions button {
            padding: 6px 12px;
            font-size: 12px;
        }

        /* ===== MODAL ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #1E2026;
            padding: 40px;
            border-radius: 8px;
            width: 100%;
            max-width: 500px;
            border: 1px solid #2B2F36;
        }

        /* ===== FLOATING WHATSAPP BUTTON ===== */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #25D366;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: 0.3s;
            z-index: 999;
            text-decoration: none;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            background: #128C7E;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .dashboard-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .nav-links {
                display: none;
            }
            
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 25px;
            }
        }
    </style>
</head>
<body>
    <!-- ===== FLOATING WHATSAPP BUTTON ===== -->
    <a href="https://wa.me/2348123456789?text=Hello%20I%20need%20help%20with%20Active%20Investments" 
       class="whatsapp-float" 
       target="_blank"
       title="Contact Customer Care">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- ===== NAVBAR ===== -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <a href="#" class="logo" id="homeLink">
                    <i class="fas fa-chart-line"></i>
                    <span>Active Investment</span>
                </a>
                
                <div class="nav-links">
                    <a href="#" id="homeNav">Home</a>
                    <a href="#" id="aboutNav">About</a>
                    <a href="#" id="plansNav">Plans</a>
                    <a href="#" id="referralNav">Referral</a>
                    <a href="#" id="loginNavBtn">Login</a>
                    <a href="#" id="signupNavBtn" class="btn btn-primary">Get Started</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- ===== PAGES ===== -->
    <div id="pages">
        <!-- Home/Landing Page -->
        <div id="landingPage" class="page active">
            <!-- Hero Section -->
            <div class="hero">
                <div class="container">
                    <h1>Active Investment</h1>
                    <p>A Digital Asset Investment Platform Built on Compliance, Security, and Strategic Growth.</p>
                    <p style="font-size: 20px; color: #F0B90B;">Empowering Global Investors Through Regulated Crypto Asset Management.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" id="getStartedBtn">Start Investing</button>
                        <button class="btn btn-outline" id="learnMoreBtn">Learn More</button>
                    </div>
                </div>
            </div>

            <!-- About Section -->
            <div class="section">
                <div class="container">
                    <h2 class="section-title">About Active Investment</h2>
                    <div class="content-text">
                        <p>Active Investment is a digital asset investment platform focused on cryptocurrency portfolio management, quantitative trading strategies, and blockchain-based financial opportunities.</p>
                        
                        <p>We operate with a strong commitment to regulatory compliance, financial transparency, and responsible asset management practices. Our operational framework is designed in alignment with international financial standards, anti-money laundering (AML) policies, and know-your-customer (KYC) procedures to ensure a secure and compliant investment environment.</p>
                        
                        <p><strong>Our investment strategies include:</strong></p>
                        <ul>
                            <li>Digital asset portfolio diversification</li>
                            <li>Algorithmic and quantitative trading models</li>
                            <li>Market-neutral strategies</li>
                            <li>Risk-adjusted capital allocation</li>
                        </ul>
                        
                        <p>We implement advanced security protocols, cold storage asset protection, and multi-layer encryption systems to safeguard client funds and data integrity.</p>
                        
                        <p style="font-size: 18px; color: #F0B90B; text-align: center; margin-top: 30px;">Active Investment — Structured. Secure. Strategic.</p>
                    </div>
                </div>
            </div>

            <!-- Compliance Section -->
            <div class="section">
                <div class="container">
                    <h2 class="section-title">Compliance & Risk Management</h2>
                    <div class="content-text">
                        <p>Active Investment maintains strict internal compliance policies designed to meet global financial standards.</p>
                        
                        <p><strong>We apply:</strong></p>
                        <ul>
                            <li>AML (Anti-Money Laundering) procedures</li>
                            <li>KYC (Know Your Customer) verification</li>
                            <li>Ongoing transaction monitoring</li>
                            <li>Structured risk management models</li>
                            <li>Capital allocation limits</li>
                        </ul>
                        
                        <p style="color: #848E9C; font-style: italic;">All investment activities involve exposure to market volatility. While our strategies are designed to mitigate risk, returns are subject to market conditions and are not guaranteed.</p>
                    </div>
                </div>
            </div>

            <!-- Investment Plans Section -->
            <div class="section">
                <div class="container">
                    <h2 class="section-title">Investment Plans</h2>
                    <p class="section-subtitle">Professional & Sustainable Investment Structures</p>
                    
                    <div class="plans-grid">
                        <!-- Essential Plan -->
                        <div class="plan-card">
                            <div class="plan-name">Essential Plan</div>
                            <div class="plan-min">Minimum Investment</div>
                            <div class="plan-amount">$250</div>
                            <div class="plan-duration">Duration: 14 Days</div>
                            <div class="plan-return">
                                <div class="plan-return-label">Target Return</div>
                                <div class="plan-return-value">10% – 18%</div>
                            </div>
                            <p style="color: #848E9C; font-size: 14px;">Designed for entry-level investors seeking structured exposure to digital asset markets with controlled risk parameters.</p>
                        </div>

                        <!-- Advanced Plan -->
                        <div class="plan-card">
                            <div class="plan-name">Advanced Plan</div>
                            <div class="plan-min">Minimum Investment</div>
                            <div class="plan-amount">$2,500</div>
                            <div class="plan-duration">Duration: 30 Days</div>
                            <div class="plan-return">
                                <div class="plan-return-label">Target Return</div>
                                <div class="plan-return-value">18% – 27%</div>
                            </div>
                            <p style="color: #848E9C; font-size: 14px;">Balanced strategy combining portfolio diversification and quantitative trading methodologies.</p>
                        </div>

                        <!-- Professional Plan -->
                        <div class="plan-card">
                            <div class="plan-name">Professional Plan</div>
                            <div class="plan-min">Minimum Investment</div>
                            <div class="plan-amount">$15,000</div>
                            <div class="plan-duration">Duration: 60 Days</div>
                            <div class="plan-return">
                                <div class="plan-return-label">Target Return</div>
                                <div class="plan-return-value">30% – 50%</div>
                            </div>
                            <p style="color: #848E9C; font-size: 14px;">Advanced capital allocation strategy with enhanced portfolio optimization and risk-adjusted performance focus.</p>
                        </div>

                        <!-- Institutional Portfolio -->
                        <div class="plan-card institutional">
                            <div class="plan-badge">Premium</div>
                            <div class="plan-name">Institutional Portfolio</div>
                            <div class="plan-min">Minimum Investment</div>
                            <div class="plan-amount">$100,000+</div>
                            <div class="plan-duration">Investment return after 10 days: $177,000</div>
                            <div class="plan-return">
                                <div class="plan-return-label">Custom Strategy</div>
                                <div class="plan-return-value">Performance Model</div>
                            </div>
                            <p style="color: #848E9C; font-size: 14px;">Dedicated portfolio structuring for high-net-worth individuals and corporate clients.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="aboutPage" class="page">
            <div class="container" style="padding: 60px 20px;">
                <h1 class="section-title">About Active Investment</h1>
                
                <div class="content-text" style="max-width: 900px; margin: 0 auto;">
                    <p>Active Investment is a digital asset investment platform focused on cryptocurrency portfolio management, quantitative trading strategies, and blockchain-based financial opportunities.</p>
                    
                    <p>We operate with a strong commitment to regulatory compliance, financial transparency, and responsible asset management practices. Our operational framework is designed in alignment with international financial standards, anti-money laundering (AML) policies, and know-your-customer (KYC) procedures to ensure a secure and compliant investment environment.</p>
                    
                    <h3 style="color: #F0B90B; margin: 30px 0 15px;">Our Investment Strategies</h3>
                    <ul>
                        <li>Digital asset portfolio diversification</li>
                        <li>Algorithmic and quantitative trading models</li>
                        <li>Market-neutral strategies</li>
                        <li>Risk-adjusted capital allocation</li>
                    </ul>
                    
                    <h3 style="color: #F0B90B; margin: 30px 0 15px;">Security & Compliance</h3>
                    <p>We implement advanced security protocols, cold storage asset protection, and multi-layer encryption systems to safeguard client funds and data integrity.</p>
                    
                    <p>At Active Investment, we believe sustainable growth comes from disciplined strategy, regulatory awareness, and continuous market analysis — not speculation.</p>
                    
                    <p style="font-size: 20px; color: #F0B90B; text-align: center; margin-top: 40px;">Active Investment — Structured. Secure. Strategic.</p>
                </div>
            </div>
        </div>

        <!-- Plans Page -->
        <div id="plansPage" class="page">
            <div class="container" style="padding: 60px 20px;">
                <h1 class="section-title">Investment Plans</h1>
                <p class="section-subtitle">Professional & Sustainable Investment Structures</p>
                
                <div class="plans-grid">
                    <!-- Essential Plan -->
                    <div class="plan-card">
                        <div class="plan-name">Essential Plan</div>
                        <div class="plan-min">Minimum Investment</div>
                        <div class="plan-amount">$250</div>
                        <div class="plan-duration">Duration: 14 Days</div>
                        <div class="plan-return">
                            <div class="plan-return-label">Target Return</div>
                            <div class="plan-return-value">10% – 18%</div>
                        </div>
                        <p style="color: #848E9C; font-size: 14px;">Designed for entry-level investors seeking structured exposure to digital asset markets with controlled risk parameters.</p>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">Invest Now</button>
                    </div>

                    <!-- Advanced Plan -->
                    <div class="plan-card">
                        <div class="plan-name">Advanced Plan</div>
                        <div class="plan-min">Minimum Investment</div>
                        <div class="plan-amount">$2,500</div>
                        <div class="plan-duration">Duration: 30 Days</div>
                        <div class="plan-return">
                            <div class="plan-return-label">Target Return</div>
                            <div class="plan-return-value">18% – 27%</div>
                        </div>
                        <p style="color: #848E9C; font-size: 14px;">Balanced strategy combining portfolio diversification and quantitative trading methodologies.</p>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">Invest Now</button>
                    </div>

                    <!-- Professional Plan -->
                    <div class="plan-card">
                        <div class="plan-name">Professional Plan</div>
                        <div class="plan-min">Minimum Investment</div>
                        <div class="plan-amount">$15,000</div>
                        <div class="plan-duration">Duration: 60 Days</div>
                        <div class="plan-return">
                            <div class="plan-return-label">Target Return</div>
                            <div class="plan-return-value">30% – 50%</div>
                        </div>
                        <p style="color: #848E9C; font-size: 14px;">Advanced capital allocation strategy with enhanced portfolio optimization and risk-adjusted performance focus.</p>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">Invest Now</button>
                    </div>

                    <!-- Institutional Portfolio -->
                    <div class="plan-card institutional">
                        <div class="plan-badge">Premium</div>
                        <div class="plan-name">Institutional Portfolio</div>
                        <div class="plan-min">Minimum Investment</div>
                        <div class="plan-amount">$100,000+</div>
                        <div class="plan-duration">Investment return after 10 days: $177,000</div>
                        <div class="plan-return">
                            <div class="plan-return-label">Custom Strategy</div>
                            <div class="plan-return-value">Performance Model</div>
                        </div>
                        <p style="color: #848E9C; font-size: 14px;">Dedicated portfolio structuring for high-net-worth individuals and corporate clients.</p>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">Contact Us</button>
                    </div>
                </div>

                <!-- Compliance Note -->
                <div style="background: #1E2026; padding: 30px; border-radius: 8px; margin-top: 40px;">
                    <h3 style="color: #F0B90B; margin-bottom: 15px;">Important Information</h3>
                    <p style="color: #848E9C;">All investment activities involve exposure to market volatility. While our strategies are designed to mitigate risk, returns are subject to market conditions and are not guaranteed. Past performance does not indicate future results.</p>
                </div>
            </div>
        </div>

        <!-- Referral Page -->
        <div id="referralPage" class="page">
            <div class="referral-container">
                <div class="referral-header">
                    <h2>Active Investment Referral Program</h2>
                    <p style="color: #848E9C; max-width: 600px; margin: 0 auto;">At Active Investment, we value strategic partnerships and community growth. Our Referral Program is designed to reward members who introduce qualified investors to our platform.</p>
                </div>

                <!-- How It Works -->
                <div style="background: #1E2026; padding: 40px; border-radius: 8px; margin-bottom: 30px;">
                    <h3 style="color: #F0B90B; margin-bottom: 20px;">How It Works</h3>
                    <ul style="color: #EAECEF; line-height: 2;">
                        <li>Earn a percentage-based commission on the net investment amount of your direct referrals.</li>
                        <li>Commission is calculated based on active funded investments.</li>
                        <li>Transparent tracking through your personalized referral dashboard.</li>
                    </ul>
                </div>

                <!-- Commission Structure -->
                <h3 style="color: #F0B90B; margin: 40px 0 20px;">Commission Structure</h3>
                <div class="commission-structure">
                    <div class="commission-card">
                        <div class="commission-level">Level 1</div>
                        <div class="commission-percent">5%</div>
                        <div style="color: #848E9C;">Direct Referral</div>
                    </div>
                    <div class="commission-card">
                        <div class="commission-level">Level 2</div>
                        <div class="commission-percent">2%</div>
                        <div style="color: #848E9C;">Indirect Referral</div>
                    </div>
                    <div class="commission-card">
                        <div class="commission-level">Level 3</div>
                        <div class="commission-percent">1%</div>
                        <div style="color: #848E9C;">Third Level</div>
                    </div>
                </div>

                <!-- Referral Stats (Only visible when logged in) -->
                <div id="referralStats" style="display: none;">
                    <h3 style="color: #F0B90B; margin: 40px 0 20px;">Your Referral Dashboard</h3>
                    
                    <div class="referral-stats">
                        <div class="stat-box">
                            <div class="stat-label">Your Referral Code</div>
                            <div class="stat-value" id="referralCode">ABC123</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Total Referrals</div>
                            <div class="stat-value" id="totalReferrals">0</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Total Earnings</div>
                            <div class="stat-value">$<span id="totalEarnings">0</span></div>
                        </div>
                    </div>

                    <div class="referral-code-box">
                        <span class="referral-code" id="displayReferralCode">ABC123</span>
                        <button class="btn btn-primary" onclick="copyReferralCode()">Copy Code</button>
                    </div>
                </div>

                <!-- Why Our Program -->
                <div style="background: #1E2026; padding: 40px; border-radius: 8px; margin-top: 40px;">
                    <h3 style="color: #F0B90B; margin-bottom: 20px;">Why Our Referral Program Is Different</h3>
                    <ul style="color: #EAECEF; line-height: 2;">
                        <li>No hidden conditions</li>
                        <li>No forced upgrades</li>
                        <li>Real-time commission tracking</li>
                        <li>Withdrawable earnings</li>
                    </ul>
                    <p style="color: #848E9C; margin-top: 20px; font-style: italic;">We encourage responsible promotion aligned with financial compliance standards. Misleading marketing practices are strictly prohibited.</p>
                </div>
            </div>
        </div>

        <!-- Signup Page -->
        <div id="signupPage" class="page">
            <div class="auth-container">
                <div class="auth-card">
                    <h2>Create Account</h2>
                    <p class="auth-description">Join Active Investment to start your journey in regulated crypto asset management. Secure, compliant, and professionally managed.</p>
                    
                    <form id="signupForm">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="signupName" class="form-control" placeholder="John Doe" required>
                        </div>
                        <div class="form-group">
                            <label>Email Address</label>
                            <input type="email" id="signupEmail" class="form-control" placeholder="john@example.com" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="signupPassword" class="form-control" placeholder="••••••••" minlength="8" required>
                        </div>
                        <div class="form-group">
                            <label>Phone (Optional)</label>
                            <input type="tel" id="signupPhone" class="form-control" placeholder="+1234567890">
                        </div>
                        <div class="form-group">
                            <label>Referral Code (Optional)</label>
                            <input type="text" id="signupReferral" class="form-control" placeholder="Enter referral code">
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                            Create Account
                        </button>
                    </form>
                    <p style="text-align: center; margin-top: 20px; color: #848E9C;">
                        Already have an account? <a href="#" id="toLoginLink" style="color: #F0B90B;">Sign In</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="loginPage" class="page">
            <div class="auth-container">
                <div class="auth-card">
                    <h2>Welcome Back</h2>
                    <p class="auth-description">Sign in to access your regulated crypto asset portfolio and manage your investments securely.</p>
                    
                    <form id="loginForm">
                        <div class="form-group">
                            <label>Email Address</label>
                            <input type="email" id="loginEmail" class="form-control" placeholder="john@example.com" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="loginPassword" class="form-control" placeholder="••••••••" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                            Sign In
                        </button>
                    </form>
                    <p style="text-align: center; margin-top: 20px; color: #848E9C;">
                        Don't have an account? <a href="#" id="toSignupLink" style="color: #F0B90B;">Sign Up</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- User Dashboard -->
        <div id="userDashboard" class="page">
            <div class="dashboard-container">
                <div class="sidebar">
                    <ul class="sidebar-menu">
                        <li><a href="#" class="active" data-page="overview"><i class="fas fa-home"></i> Overview</a></li>
                        <li><a href="#" data-page="portfolio"><i class="fas fa-chart-pie"></i> Portfolio</a></li>
                        <li><a href="#" data-page="deposit"><i class="fas fa-plus-circle"></i> Deposit</a></li>
                        <li><a href="#" data-page="referral"><i class="fas fa-users"></i> Referral</a></li>
                        <li><a href="#" data-page="history"><i class="fas fa-history"></i> History</a></li>
                        <li><a href="#" id="adminPanelBtn" style="display: none;"><i class="fas fa-user-shield"></i> Admin Panel</a></li>
                    </ul>
                    
                    <div style="margin-top: auto; padding-top: 30px;">
                        <button id="logoutBtn" class="btn btn-outline" style="width: 100%;">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>
                </div>
                
                <div class="main-content">
                    <!-- Overview Section -->
                    <div id="overviewSection">
                        <h2 style="margin-bottom: 20px; color: #F0B90B;">Welcome, <span id="userName">User</span></h2>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h3>Total Balance (USD)</h3>
                                <div class="value">$<span id="totalBalance">0.00</span></div>
                            </div>
                            <div class="stat-card">
                                <h3>Active Investments</h3>
                                <div class="value" id="activeInvestments">0</div>
                            </div>
                            <div class="stat-card">
                                <h3>Total Deposits</h3>
                                <div class="value">$<span id="totalDeposits">0.00</span></div>
                            </div>
                        </div>
                        
                        <!-- Portfolio Summary -->
                        <div class="portfolio-section">
                            <div class="portfolio-header">
                                <h3>Your Portfolio</h3>
                                <div class="portfolio-value">$<span id="portfolioValue">0.00</span></div>
                            </div>
                            <div class="asset-list" id="portfolioList">
                                <!-- Portfolio items will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Portfolio Section -->
                    <div id="portfolioSection" style="display: none;">
                        <h2 style="margin-bottom: 20px; color: #F0B90B;">Investment Portfolio</h2>
                        
                        <div class="portfolio-section">
                            <div class="portfolio-header">
                                <h3>Asset Allocation</h3>
                                <div class="portfolio-value">$<span id="portfolioTotalValue">0.00</span></div>
                            </div>
                            
                            <div class="asset-list" id="fullPortfolioList">
                                <div class="asset-item">
                                    <div class="asset-info">
                                        <div class="asset-icon btc-icon">
                                            <i class="fab fa-bitcoin"></i>
                                        </div>
                                        <div class="asset-details">
                                            <h4>Bitcoin (BTC)</h4>
                                            <small>0.00 BTC</small>
                                        </div>
                                    </div>
                                    <div class="asset-values">
                                        <div class="asset-amount">$0.00</div>
                                        <div class="asset-change">0.00%</div>
                                    </div>
                                </div>
                                <div class="asset-item">
                                    <div class="asset-info">
                                        <div class="asset-icon eth-icon">
                                            <i class="fab fa-ethereum"></i>
                                        </div>
                                        <div class="asset-details">
                                            <h4>Ethereum (ETH)</h4>
                                            <small>0.00 ETH</small>
                                        </div>
                                    </div>
                                    <div class="asset-values">
                                        <div class="asset-amount">$0.00</div>
                                        <div class="asset-change">0.00%</div>
                                    </div>
                                </div>
                                <div class="asset-item">
                                    <div class="asset-info">
                                        <div class="asset-icon usdt-icon">
                                            <i class="fas fa-dollar-sign"></i>
                                        </div>
                                        <div class="asset-details">
                                            <h4>Tether (USDT)</h4>
                                            <small>0.00 USDT</small>
                                        </div>
                                    </div>
                                    <div class="asset-values">
                                        <div class="asset-amount">$0.00</div>
                                        <div class="asset-change">0.00%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Investment Plans -->
                        <div class="portfolio-section" style="margin-top: 30px;">
                            <h3 style="margin-bottom: 20px;">Available Investment Plans</h3>
                            <div class="plans-grid" style="grid-template-columns: repeat(2, 1fr);">
                                <div class="plan-card" style="cursor: pointer;" onclick="investInPlan('Essential', 250)">
                                    <div class="plan-name">Essential Plan</div>
                                    <div class="plan-amount">$250</div>
                                    <div class="plan-return-range">10% – 18% Returns</div>
                                </div>
                                <div class="plan-card" style="cursor: pointer;" onclick="investInPlan('Advanced', 2500)">
                                    <div class="plan-name">Advanced Plan</div>
                                    <div class="plan-amount">$2,500</div>
                                    <div class="plan-return-range">18% – 27% Returns</div>
                                </div>
                                <div class="plan-card" style="cursor: pointer;" onclick="investInPlan('Professional', 15000)">
                                    <div class="plan-name">Professional Plan</div>
                                    <div class="plan-amount">$15,000</div>
                                    <div class="plan-return-range">30% – 50% Returns</div>
                                </div>
                                <div class="plan-card institutional" style="cursor: pointer;" onclick="investInPlan('Institutional', 100000)">
                                    <div class="plan-name">Institutional</div>
                                    <div class="plan-amount">$100,000+</div>
                                    <div class="plan-return-range">Custom Strategy</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Deposit Section -->
                    <div id="depositSection" style="display: none;">
                        <h2 style="margin-bottom: 20px; color: #F0B90B;">Deposit Funds</h2>
                        
                        <div class="auth-card" style="max-width: 600px; margin: 0;">
                            <form id="depositForm">
                                <div class="form-group">
                                    <label>Amount (USD)</label>
                                    <input type="number" id="depositAmount" class="form-control" min="10" step="1" placeholder="100" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>Select Cryptocurrency</label>
                                    <select id="depositCrypto" class="form-control">
                                        <option value="BTC">Bitcoin (BTC)</option>
                                        <option value="ETH">Ethereum (ETH)</option>
                                        <option value="USDT">Tether (USDT)</option>
                                    </select>
                                </div>
                                
                                <div class="wallet-box">
                                    <span class="wallet-address" id="walletAddress">Loading...</span>
                                    <button type="button" class="copy-btn" id="copyAddressBtn">
                                        <i class="far fa-copy"></i> Copy
                                    </button>
                                </div>
                                
                                <p style="color: #848E9C; font-size: 12px; margin-top: 10px;">
                                    Send the exact amount to this address. Your account will be credited after 3 confirmations.
                                </p>
                                
                                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                                    Request Deposit
                                </button>
                            </form>
                        </div>
                        
                        <div class="table-container" style="margin-top: 30px;">
                            <h3 style="color: #F0B90B; padding: 15px;">Recent Deposits</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Currency</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="recentDeposits">
                                    <tr>
                                        <td colspan="4" style="text-align: center;">No deposits yet</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Referral Section -->
                    <div id="referralSection" style="display: none;">
                        <h2 style="margin-bottom: 20px; color: #F0B90B;">Referral Program</h2>
                        
                        <div style="background: #1E2026; padding: 30px; border-radius: 8px; margin-bottom: 30px;">
                            <h3 style="color: #F0B90B; margin-bottom: 20px;">Your Referral Stats</h3>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <h3>Referral Code</h3>
                                    <div class="value" id="userReferralCode">ACTIVE123</div>
                                </div>
                                <div class="stat-card">
                                    <h3>Total Referrals</h3>
                                    <div class="value" id="userTotalReferrals">0</div>
                                </div>
                                <div class="stat-card">
                                    <h3>Referral Earnings</h3>
                                    <div class="value">$<span id="userReferralEarnings">0.00</span></div>
                                </div>
                            </div>
                            
                            <div class="wallet-box" style="margin-top: 20px;">
                                <span class="wallet-address" id="displayUserReferralCode">ACTIVE123</span>
                                <button class="copy-btn" onclick="copyUserReferralCode()">
                                    <i class="far fa-copy"></i> Copy Code
                                </button>
                            </div>
                        </div>
                        
                        <div style="background: #1E2026; padding: 30px; border-radius: 8px;">
                            <h3 style="color: #F0B90B; margin-bottom: 20px;">Commission Structure</h3>
                            <div class="commission-structure">
                                <div class="commission-card">
                                    <div class="commission-level">Level 1</div>
                                    <div class="commission-percent">5%</div>
                                </div>
                                <div class="commission-card">
                                    <div class="commission-level">Level 2</div>
                                    <div class="commission-percent">2%</div>
                                </div>
                                <div class="commission-card">
                                    <div class="commission-level">Level 3</div>
                                    <div class="commission-percent">1%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- History Section -->
                    <div id="historySection" style="display: none;">
                        <h2 style="margin-bottom: 20px; color: #F0B90B;">Transaction History</h2>
                        
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Type</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="historyTable">
                                    <tr>
                                        <td colspan="4" style="text-align: center;">No transactions yet</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="page">
            <div class="admin-container">
                <div class="admin-header">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                        <div>
                            <h2><i class="fas fa-user-shield"></i> Admin Panel</h2>
                            <p style="color: #848E9C;">All users are stored in cloud database - visible from any device</p>
                        </div>
                        <button class="btn btn-outline" id="backToUserDashboard">
                            <i class="fas fa-arrow-left"></i> Back to Dashboard
                        </button>
                    </div>
                </div>

                <!-- Stats -->
                <div class="admin-stats">
                    <div class="stat-box">
                        <h3>Total Users</h3>
                        <div class="number" id="totalUsers">0</div>
                    </div>
                    <div class="stat-box">
                        <h3>Total Balance</h3>
                        <div class="number">$<span id="totalBalanceAll">0</span></div>
                    </div>
                    <div class="stat-box">
                        <h3>Total Deposits</h3>
                        <div class="number">$<span id="totalDepositsAll">0</span></div>
                    </div>
                    <div class="stat-box">
                        <h3>Pending Deposits</h3>
                        <div class="number" id="pendingCount">0</div>
                    </div>
                </div>

                <!-- Users List -->
                <div class="admin-card">
                    <h3><i class="fas fa-users"></i> All Registered Users (Cloud Database)</h3>
                    <div id="usersList"></div>
                </div>

                <!-- Pending Deposits -->
                <div class="admin-card">
                    <h3><i class="fas fa-clock"></i> Pending Deposits</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Amount</th>
                                    <th>Currency</th>
                                    <th>Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="pendingDepositsList">
                                <tr>
                                    <td colspan="5" style="text-align: center;">No pending deposits</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Wallet Address Management -->
                <div class="admin-card">
                    <h3><i class="fas fa-wallet"></i> Deposit Addresses</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div>
                            <label>BTC Address</label>
                            <input type="text" id="btcAddress" class="form-control" value="1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa">
                            <button class="btn btn-primary" style="margin-top: 10px;" onclick="updateAddress('BTC')">Update BTC</button>
                        </div>
                        <div>
                            <label>ETH Address</label>
                            <input type="text" id="ethAddress" class="form-control" value="0x742d35Cc6634C0532925a3b844Bc9e0F3A5C5b3a">
                            <button class="btn btn-primary" style="margin-top: 10px;" onclick="updateAddress('ETH')">Update ETH</button>
                        </div>
                        <div>
                            <label>USDT Address</label>
                            <input type="text" id="usdtAddress" class="form-control" value="0x742d35Cc6634C0532925a3b844Bc9e0F3A5C5b3a">
                            <button class="btn btn-primary" style="margin-top: 10px;" onclick="updateAddress('USDT')">Update USDT</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Balance Modal -->
    <div class="modal" id="editBalanceModal">
        <div class="modal-content">
            <h3 style="color: #F0B90B; margin-bottom: 20px;">Edit User Balance</h3>
            <form id="editBalanceForm">
                <input type="hidden" id="editUserId">
                <div class="form-group">
                    <label>User Name</label>
                    <input type="text" id="editUserName" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" id="editUserEmail" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label>Current Balance</label>
                    <input type="text" id="editCurrentBalance" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label>New Balance ($)</label>
                    <input type="number" id="editNewBalance" class="form-control" step="0.01" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Update Balance</button>
            </form>
        </div>
    </div>

    <!-- ===== FIREBASE CONFIGURATION ===== -->
    <script>
       {
    apiKey: "AIzaSyBfKCdW4lJ-3DY-nQsrFVbi3Vx_t4k8xjs",
    authDomain: "active-investments-e5b76.firebaseapp.com",
    projectId: "active-investments-e5b76",
    storageBucket: "active-investments-e5b76.firebasestorage.app",
    messagingSenderId: "572463618673",
    appId: "1:572463618673:web:e8745d462e9b68fe3e59d0"
  };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ===== GLOBAL VARIABLES =====
        let currentUser = null;
        let currentUserId = localStorage.getItem('currentUserId');

        // ===== PAGE MANAGEMENT =====
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // ===== REFERRAL FUNCTIONS =====
        function generateReferralCode() {
            return 'ACT' + Math.random().toString(36).substring(2, 8).toUpperCase();
        }

        function copyReferralCode() {
            const code = document.getElementById('displayReferralCode').textContent;
            navigator.clipboard.writeText(code);
            alert('Referral code copied!');
        }

        function copyUserReferralCode() {
            const code = document.getElementById('displayUserReferralCode').textContent;
            navigator.clipboard.writeText(code);
            alert('Referral code copied!');
        }

        // ===== INVESTMENT FUNCTIONS =====
        function investInPlan(planName, minAmount) {
            if (!currentUser) {
                alert('Please login to invest');
                showPage('loginPage');
                return;
            }
            
            alert(`You've selected the ${planName} Plan. Minimum investment: $${minAmount.toLocaleString()}`);
            showPage('userDashboard');
            document.querySelector('[data-page="deposit"]').click();
        }

        // ===== AUTHENTICATION =====
        async function handleSignup(e) {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = btoa(document.getElementById('signupPassword').value);
            const phone = document.getElementById('signupPhone').value;
            const referralCode = document.getElementById('signupReferral').value;

            try {
                // Check if user exists
                const usersRef = db.collection('users');
                const query = await usersRef.where('email', '==', email).get();
                
                if (!query.empty) {
                    alert('Email already registered!');
                    return;
                }

                // Generate unique referral code for new user
                const userReferralCode = generateReferralCode();

                // Create new user
                const newUser = {
                    name,
                    email,
                    password,
                    phone,
                    balance: 1000, // Welcome bonus
                    role: 'user',
                    deposits: [],
                    investments: [],
                    transactions: [{
                        type: 'welcome_bonus',
                        amount: 1000,
                        status: 'completed',
                        date: new Date().toISOString()
                    }],
                    referralCode: userReferralCode,
                    referredBy: referralCode || null,
                    referrals: [],
                    referralEarnings: 0,
                    createdAt: new Date().toISOString()
                };

                // Save to Firebase
                const docRef = await usersRef.add(newUser);
                
                // If referred by someone, update their referral count
                if (referralCode) {
                    const referrerQuery = await usersRef.where('referralCode', '==', referralCode).get();
                    if (!referrerQuery.empty) {
                        const referrerDoc = referrerQuery.docs[0];
                        const referrerData = referrerDoc.data();
                        const referrals = referrerData.referrals || [];
                        referrals.push({
                            userId: docRef.id,
                            name: name,
                            amount: 0,
                            date: new Date().toISOString()
                        });
                        await referrerDoc.ref.update({ referrals });
                    }
                }
                
                // Auto login
                currentUserId = docRef.id;
                localStorage.setItem('currentUserId', currentUserId);
                
                // Get full user data
                const userDoc = await docRef.get();
                currentUser = { id: userDoc.id, ...userDoc.data() };
                
                alert('Account created successfully! You received $1000 welcome bonus.');
                updateUserUI();
                showPage('userDashboard');
                
            } catch (error) {
                console.error('Signup error:', error);
                alert('Error creating account. Please try again.');
            }
        }

        async function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = btoa(document.getElementById('loginPassword').value);

            try {
                const usersRef = db.collection('users');
                const query = await usersRef.where('email', '==', email).get();
                
                if (query.empty) {
                    alert('User not found!');
                    return;
                }

                const userDoc = query.docs[0];
                const userData = userDoc.data();
                
                if (userData.password !== password) {
                    alert('Invalid password!');
                    return;
                }

                // Login successful
                currentUserId = userDoc.id;
                localStorage.setItem('currentUserId', currentUserId);
                currentUser = { id: userDoc.id, ...userData };
                
                updateUserUI();
                showPage('userDashboard');
                
                // Show admin button if admin
                if (userData.role === 'admin') {
                    document.getElementById('adminPanelBtn').style.display = 'block';
                }
                
            } catch (error) {
                console.error('Login error:', error);
                alert('Error logging in. Please try again.');
            }
        }

        function updateUserUI() {
            if (currentUser) {
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('totalBalance').textContent = currentUser.balance.toFixed(2);
                
                const totalDeposits = currentUser.deposits?.reduce((sum, d) => sum + d.amount, 0) || 0;
                document.getElementById('totalDeposits').textContent = totalDeposits.toFixed(2);
                document.getElementById('activeInvestments').textContent = currentUser.investments?.length || 0;
                
                // Update portfolio value
                const portfolioValue = currentUser.balance || 0;
                document.getElementById('portfolioValue').textContent = portfolioValue.toFixed(2);
                document.getElementById('portfolioTotalValue').textContent = portfolioValue.toFixed(2);
                
                // Update referral info
                if (currentUser.referralCode) {
                    document.getElementById('userReferralCode').textContent = currentUser.referralCode;
                    document.getElementById('displayUserReferralCode').textContent = currentUser.referralCode;
                    document.getElementById('displayReferralCode').textContent = currentUser.referralCode;
                    document.getElementById('userTotalReferrals').textContent = currentUser.referrals?.length || 0;
                    document.getElementById('userReferralEarnings').textContent = (currentUser.referralEarnings || 0).toFixed(2);
                    document.getElementById('totalEarnings').textContent = (currentUser.referralEarnings || 0).toFixed(2);
                    document.getElementById('totalReferrals').textContent = currentUser.referrals?.length || 0;
                    
                    // Show referral stats section
                    document.getElementById('referralStats').style.display = 'block';
                }
                
                // Update portfolio list
                updatePortfolioList();
            }
        }

        function updatePortfolioList() {
            const portfolioList = document.getElementById('portfolioList');
            if (!currentUser?.investments?.length) {
                portfolioList.innerHTML = `
                    <div style="text-align: center; color: #848E9C; padding: 30px;">
                        No active investments. Start investing today!
                    </div>
                `;
            } else {
                portfolioList.innerHTML = currentUser.investments.map(inv => `
                    <div class="asset-item">
                        <div class="asset-info">
                            <div class="asset-icon ${inv.currency === 'BTC' ? 'btc-icon' : inv.currency === 'ETH' ? 'eth-icon' : 'usdt-icon'}">
                                <i class="fab fa-${inv.currency === 'BTC' ? 'bitcoin' : inv.currency === 'ETH' ? 'ethereum' : 'dollar-sign'}"></i>
                            </div>
                            <div class="asset-details">
                                <h4>${inv.currency}</h4>
                                <small>${inv.plan || 'Investment'}</small>
                            </div>
                        </div>
                        <div class="asset-values">
                            <div class="asset-amount">$${inv.amount.toFixed(2)}</div>
                            <div class="asset-change">+${inv.returns || 0}%</div>
                        </div>
                    </div>
                `).join('');
            }
        }

        // ===== DEPOSIT =====
        function loadWalletAddress() {
            const crypto = document.getElementById('depositCrypto').value;
            const addresses = {
                BTC: '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa',
                ETH: '0x742d35Cc6634C0532925a3b844Bc9e0F3A5C5b3a',
                USDT: '0x742d35Cc6634C0532925a3b844Bc9e0F3A5C5b3a'
            };
            document.getElementById('walletAddress').textContent = addresses[crypto];
        }

        async function handleDeposit(e) {
            e.preventDefault();
            
            const amount = parseFloat(document.getElementById('depositAmount').value);
            const crypto = document.getElementById('depositCrypto').value;
            
            if (amount < 10) {
                alert('Minimum deposit is $10');
                return;
            }

            try {
                // Add deposit request to pending
                const pendingRef = db.collection('pendingDeposits');
                await pendingRef.add({
                    userId: currentUser.id,
                    userName: currentUser.name,
                    userEmail: currentUser.email,
                    amount,
                    currency: crypto,
                    status: 'pending',
                    date: new Date().toISOString()
                });

                // Add to user's deposits
                const userRef = db.collection('users').doc(currentUser.id);
                const deposits = currentUser.deposits || [];
                deposits.push({
                    amount,
                    currency: crypto,
                    status: 'pending',
                    date: new Date().toISOString()
                });
                
                await userRef.update({ deposits });

                // Add transaction
                const transactions = currentUser.transactions || [];
                transactions.push({
                    type: 'deposit_request',
                    amount,
                    status: 'pending',
                    date: new Date().toISOString()
                });
                
                await userRef.update({ transactions });

                // Update local user
                currentUser.deposits = deposits;
                currentUser.transactions = transactions;
                
                alert(`Deposit Request Submitted! Send $${amount} worth of ${crypto} to the provided address.`);
                
            } catch (error) {
                console.error('Deposit error:', error);
                alert('Error processing deposit');
            }
        }

        // ===== ADMIN FUNCTIONS =====
        async function loadAdminPanel() {
            try {
                const usersRef = db.collection('users');
                const snapshot = await usersRef.get();
                
                const users = [];
                snapshot.forEach(doc => {
                    users.push({ id: doc.id, ...doc.data() });
                });

                // Update stats
                document.getElementById('totalUsers').textContent = users.length;
                document.getElementById('totalBalanceAll').textContent = 
                    users.reduce((sum, u) => sum + (u.balance || 0), 0).toFixed(2);
                
                // Show users list
                const usersList = document.getElementById('usersList');
                usersList.innerHTML = users.map(user => `
                    <div class="user-list-item">
                        <div class="user-info">
                            <strong>${user.name} ${user.role === 'admin' ? '👑' : ''}</strong>
                            <small>Email: ${user.email}</small>
                            <small>Balance: $${(user.balance || 0).toFixed(2)} | Role: ${user.role}</small>
                            <small>Joined: ${new Date(user.createdAt).toLocaleString()}</small>
                            <small>Referrals: ${user.referrals?.length || 0}</small>
                        </div>
                        <div class="user-actions">
                            <button onclick="openEditModal('${user.id}', '${user.name}', '${user.email}', ${user.balance || 0})" 
                                    class="btn btn-primary">
                                Edit Balance
                            </button>
                        </div>
                    </div>
                `).join('');
                
            } catch (error) {
                console.error('Error loading admin panel:', error);
                document.getElementById('usersList').innerHTML = 
                    '<div style="color: #CF304A; text-align: center;">Error loading users</div>';
            }
        }

        function openEditModal(id, name, email, balance) {
            document.getElementById('editUserId').value = id;
            document.getElementById('editUserName').value = name;
            document.getElementById('editUserEmail').value = email;
            document.getElementById('editCurrentBalance').value = balance;
            document.getElementById('editNewBalance').value = balance;
            showModal('editBalanceModal');
        }

        async function handleEditBalance(e) {
            e.preventDefault();
            
            const userId = document.getElementById('editUserId').value;
            const newBalance = parseFloat(document.getElementById('editNewBalance').value);

            try {
                await db.collection('users').doc(userId).update({
                    balance: newBalance
                });
                
                alert('Balance updated successfully!');
                closeModal('editBalanceModal');
                loadAdminPanel();
                
            } catch (error) {
                console.error('Error updating balance:', error);
                alert('Error updating balance');
            }
        }

        function updateAddress(currency) {
            const address = document.getElementById(`${currency.toLowerCase()}Address`).value;
            alert(`${currency} address updated to: ${address}`);
        }

        // ===== CHECK LOGIN STATUS =====
        async function checkLoginStatus() {
            if (currentUserId) {
                try {
                    const userDoc = await db.collection('users').doc(currentUserId).get();
                    if (userDoc.exists) {
                        currentUser = { id: userDoc.id, ...userDoc.data() };
                        updateUserUI();
                        showPage('userDashboard');
                        
                        if (currentUser.role === 'admin') {
                            document.getElementById('adminPanelBtn').style.display = 'block';
                        }
                    } else {
                        localStorage.removeItem('currentUserId');
                    }
                } catch (error) {
                    console.error('Error checking login:', error);
                }
            }
        }

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', checkLoginStatus);

        // ===== EVENT LISTENERS =====
        document.getElementById('signupForm').addEventListener('submit', handleSignup);
        document.getElementById('loginForm').addEventListener('submit', handleLogin);
        document.getElementById('depositForm').addEventListener('submit', handleDeposit);
        document.getElementById('editBalanceForm').addEventListener('submit', handleEditBalance);

        // Navigation
        document.getElementById('homeLink').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('landingPage');
        });

        document.getElementById('homeNav').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('landingPage');
        });

        document.getElementById('aboutNav').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('aboutPage');
        });

        document.getElementById('plansNav').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('plansPage');
        });

        document.getElementById('referralNav').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('referralPage');
        });

        document.getElementById('getStartedBtn').addEventListener('click', () => {
            showPage('signupPage');
        });

        document.getElementById('learnMoreBtn').addEventListener('click', () => {
            showPage('aboutPage');
        });

        document.getElementById('loginHeroBtn').addEventListener('click', () => {
            showPage('loginPage');
        });

        document.getElementById('loginNavBtn').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('loginPage');
        });

        document.getElementById('signupNavBtn').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('signupPage');
        });

        document.getElementById('toLoginLink').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('loginPage');
        });

        document.getElementById('toSignupLink').addEventListener('click', (e) => {
            e.preventDefault();
            showPage('signupPage');
        });

        // Dashboard navigation
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                document.querySelectorAll('.sidebar-menu a').forEach(a => a.classList.remove('active'));
                link.classList.add('active');
                
                const page = link.dataset.page;
                document.querySelectorAll('.main-content > div').forEach(div => {
                    div.style.display = 'none';
                });
                
                if (page === 'overview') {
                    document.getElementById('overviewSection').style.display = 'block';
                } else if (page === 'portfolio') {
                    document.getElementById('portfolioSection').style.display = 'block';
                } else if (page === 'deposit') {
                    document.getElementById('depositSection').style.display = 'block';
                    loadWalletAddress();
                } else if (page === 'referral') {
                    document.getElementById('referralSection').style.display = 'block';
                } else if (page === 'history') {
                    document.getElementById('historySection').style.display = 'block';
                }
            });
        });

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', () => {
            localStorage.removeItem('currentUserId');
            currentUser = null;
            showPage('landingPage');
        });

        // Admin panel
        document.getElementById('adminPanelBtn').addEventListener('click', (e) => {
            e.preventDefault();
            loadAdminPanel();
            showPage('adminPanel');
        });

        document.getElementById('backToUserDashboard').addEventListener('click', () => {
            showPage('userDashboard');
        });

        // Copy wallet address
        document.getElementById('copyAddressBtn').addEventListener('click', () => {
            const address = document.getElementById('walletAddress').textContent;
            navigator.clipboard.writeText(address);
            alert('Address copied to clipboard!');
        });

        // Close modals
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        // Crypto selection for deposit
        document.getElementById('depositCrypto').addEventListener('change', loadWalletAddress);
    </script>
</body>
</html>
